# Skill: Создание анализов

## Цель

Обеспечить структурированный процесс анализа: риски, требования, архитектура.

## Когда использовать

- Перед реализацией архитектурного решения.
- Когда нужно оценить риски.
- Анализ требований сложной задачи.
- Проверка совместимости нового компонента с системой.

## Когда НЕ использовать

- Тривиальные изменения.
- Задачи без рисков и зависимостей.

## Типы анализов

### 1. Risk Analysis (Анализ рисков)

- Технические риски (зависимости, совместимость).
- Риски процесса (сроки, ресурсы).
- Риски безопасности (credentials, доступ).

### 2. Requirement Analysis (Анализ требований)

- Функциональные требования.
- Нефункциональные требования.
- Ограничения и зависимости.

### 3. Architecture Review (Обзор архитектуры)

- Соответствие текущей архитектуре.
- Влияние на другие компоненты.
- Масштабируемость и поддерживаемость.

## Алгоритм создания

### 1. Определить предмет анализа

Что именно анализируем: новый агент, интеграция, изменение конфига.

### 2. Сформулировать предположения

На каких допущениях основан анализ.

### 3. Выявить риски

Для каждого риска:

- Описание.
- Вероятность: LOW / MEDIUM / HIGH.
- Влияние: LOW / MEDIUM / HIGH / CRITICAL.
- Смягчение.

### 4. Дать рекомендацию

Итог анализа:

- **PROCEED** — можно начинать.
- **CONDITIONS** — можно с условиями.
- **DO_NOT_PROCEED** — есть блокеры.

### 5. Проверить согласованность

- Не конфликтует ли с архитектурой (`ARCHITECTURE.md`).
- Не нарушает ли security rules.
- Совместимо ли с текущими агентами.

### 6. Сохранить

Путь: `.github/docs/analyses/<ID>-<analysis-type>.md`
Коммит: `docs: add analysis <ID>-<type>`

## Обязательная структура

```markdown
---
id: <ID>
date: <YYYY-MM-DD>
version: 1
type: risk-analysis | requirement-analysis | architecture-review
status: draft
---

# Анализ: <название>

## Резюме

<2-3 предложения, главный вывод>
**Рекомендация**: PROCEED | CONDITIONS | DO_NOT_PROCEED

## Предположения

- Предположение 1

## Риски

### Технические риски

- Риск: описание | вероятность | влияние | смягчение

### Риски процесса

- Риск: описание | вероятность | влияние | смягчение

### Риски безопасности

- Риск: описание | вероятность | влияние | смягчение

## Открытые вопросы

1. Вопрос?

## Рекомендации

1. Рекомендация (приоритет: HIGH / MEDIUM / LOW)

## Скан согласованности

- Соответствие ARCHITECTURE.md: ✓ / ✗
- Соответствие security rules: ✓ / ✗
- Конфликты с агентами: ✓ / ✗

## Метаданные

- Анализирован: <что>
- Версия архитектуры: <версия>
```

## Чеклист перед сохранением

- [ ] Резюме — 2-3 предложения с выводом.
- [ ] Рекомендация: PROCEED / CONDITIONS / DO_NOT_PROCEED.
- [ ] Все риски имеют вероятность, влияние, смягчение.
- [ ] Скан согласованности заполнен.
- [ ] YAML frontmatter с type анализа.
- [ ] Файл в `.github/docs/analyses/`.

## Антипаттерны

- Анализ без конкретной рекомендации.
- «Вроде всё ок» без evidence.
- Риски без смягчения.
- Нет проверки согласованности с архитектурой.

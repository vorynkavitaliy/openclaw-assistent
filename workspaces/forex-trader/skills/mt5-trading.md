# MT5 Screen Trading Skill

Этот скилл описывает как управлять MetaTrader 5 через визуальный контроль экрана.

## Browser Tool: Краткий справочник

### Запуск и навигация

- `browser status` — проверить состояние браузера
- `browser start` — запустить браузер
- `browser open <url>` — открыть страницу
- `browser navigate <url>` — перейти на URL

### Чтение экрана

- `browser snapshot` — получить текстовое представление UI (цены, кнопки, поля)
- `browser snapshot --interactive` — только интерактивные элементы (кнопки, поля ввода)
- `browser screenshot` — скриншот для визуального анализа графиков
- `browser screenshot --full-page` — полный скриншот страницы

### Действия

- `browser act kind=click ref=<N>` — кликнуть по элементу (ref из snapshot)
- `browser act kind=type ref=<N> text="value"` — ввести текст в поле
- `browser act kind=press key=Enter` — нажать клавишу
- `browser act kind=hover ref=<N>` — навести мышь на элемент
- `browser act kind=select ref=<N> values=["option"]` — выбрать из списка

### Важные правила browser tool

1. ВСЕГДА делай snapshot перед действием — нужен актуальный ref
2. ref нестабильны между навигациями — после каждого перехода делай новый snapshot
3. Используй screenshot + image для анализа графиков (snapshot не видит графики)
4. После клика подожди и сделай новый snapshot для проверки результата

## Расчёт позиции: Калькулятор

### Формула размера лота

```
Риск_в_деньгах = Депозит * 0.02  (2% максимум)
Лот = Риск_в_деньгах / (SL_пунктов * Стоимость_пункта_за_лот)
```

### Стоимость пункта (стандартный лот = 1.0):

- EUR/USD: ~$10 за пункт
- GBP/USD: ~$10 за пункт
- USD/JPY: ~$6.5 за пункт (зависит от курса)
- AUD/USD: ~$10 за пункт
- USD/CHF: ~$10 за пункт

### Пример расчёта:

- Депозит: $5000
- Риск 2% = $100
- SL = 50 пунктов
- Стоимость пункта для EUR/USD (1 лот) = $10
- Лот = $100 / (50 \* $10) = 0.2 лота

## Чеклист перед сделкой

- [ ] Определил тренд на H4 (EMA 200)?
- [ ] Нашёл зону поддержки/сопротивления?
- [ ] Есть паттерн Price Action на H1?
- [ ] RSI подтверждает вход?
- [ ] R:R >= 1:2?
- [ ] Риск <= 2% от депозита?
- [ ] Нет важных новостей в ближайшие 30 мин?
- [ ] Открытых позиций < 3?
- [ ] Не потеряно > 4% за сегодня?
- [ ] SL и TP установлены?

Если хоть один пункт не выполнен — НЕ ВХОДИТЬ.

## Desktop MT5: screencapture + cliclick

### Сделать скриншот

```bash
screencapture -x /tmp/openclaw/mt5_screen.png
```

### Анализ скриншота

```
image → /tmp/openclaw/mt5_screen.png "Опиши текущее состояние графика. Какие индикаторы видны? Где текущая цена? Есть ли паттерны?"
```

### cliclick команды (установить: brew install cliclick)

```bash
cliclick c:X,Y          # клик
cliclick dc:X,Y         # двойной клик
cliclick rc:X,Y         # правый клик
cliclick m:X,Y          # переместить мышь
cliclick t:"текст"      # набрать текст
cliclick kp:return      # нажать Enter
cliclick kp:tab         # нажать Tab
cliclick kd:cmd kp:n ku:cmd  # Cmd+N (новый ордер)
```
